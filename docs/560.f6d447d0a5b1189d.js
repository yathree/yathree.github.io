"use strict";(self.webpackChunkzodlap_fe=self.webpackChunkzodlap_fe||[]).push([[560],{7560:(Y,d,n)=>{n.r(d),n.d(d,{ExamSessionsModule:()=>I});var i=n(6019),v=n(1850),t=n(3668),x=n(8260),p=n(4753),f=n(2835),Z=n(4522);let l=(()=>{class a{constructor(e){this.http=e,this.apiUrl=`${x.N.baseUrl}/sessions`}getAll(){return this.http.get(this.apiUrl).pipe((0,p.U)(e=>e.data),(0,f.K)(this.handleError))}add(e){return this.http.post(this.apiUrl,e).pipe((0,p.U)(m=>m.data),(0,f.K)(this.handleError))}handleError(){throw new Error("Something went wrong.")}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(Z.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac}),a})();var S=n(6676),s=n(9133),T=n(4986),r=n(888),c=n(5243),h=n(8167),E=n(138),y=n(86),A=n(9112);let U=(()=>{class a{constructor(e,m,g){this.fb=e,this.sessionService=m,this.snackbar=g}ngOnInit(){this.form=this.fb.group({name:["",s.kI.required],startTime:["",s.kI.required],capacity:["",s.kI.required]})}onSave(){const e=this.form.value;this.sessionService.add(Object.assign(Object.assign({},e),{startTime:e.startTime+":00"})).subscribe(()=>this.snackbar.create("Exam schedule has been created."))}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(s.qu),t.Y36(l),t.Y36(T.o))},a.\u0275cmp=t.Xpm({type:a,selectors:[["exam-session-form"]],decls:20,vars:1,consts:[[1,"space-b"],["autocomplete","off","fxLayout","row wrap","fxLayoutAlign","space-between center",3,"formGroup"],["fxFlex","25"],["matInput","","formControlName","name"],["matInput","","type","time","formControlName","startTime"],["matInput","","type","number","formControlName","capacity"],["fxFlex","20","fxLayoutAlign","end"],["mat-flat-button","","type","button","color","primary",3,"click"]],template:function(e,m){1&e&&(t.TgZ(0,"mat-card",0),t.TgZ(1,"mat-card-content"),t.TgZ(2,"form",1),t.TgZ(3,"mat-form-field",2),t.TgZ(4,"mat-label"),t._uU(5,"Session Name"),t.qZA(),t._UZ(6,"input",3),t.qZA(),t.TgZ(7,"mat-form-field",2),t.TgZ(8,"mat-label"),t._uU(9,"Starting Time"),t.qZA(),t._UZ(10,"input",4),t.qZA(),t.TgZ(11,"mat-form-field",2),t.TgZ(12,"mat-label"),t._uU(13,"Pupils Capacity"),t.qZA(),t._UZ(14,"input",5),t.qZA(),t.TgZ(15,"div",6),t.TgZ(16,"button",7),t.NdJ("click",function(){return m.onSave()}),t.TgZ(17,"mat-icon"),t._uU(18,"save"),t.qZA(),t._uU(19," Save "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("formGroup",m.form))},directives:[r.a8,r.dn,s._Y,s.JL,c.xw,c.Wh,s.sg,h.KE,c.yH,h.hX,E.Nt,s.Fj,s.JJ,s.u,s.wV,y.lW,A.Hw],styles:[""]}),a})();var u=n(1408);function C(a,o){if(1&a&&(t._uU(0),t.ALo(1,"date")),2&a){const e=o.value,m=t.oxw();t.hij(" ",t.xi3(1,1,m.dateTime(e),"h:mm a")," ")}}function F(a,o){1&a&&t._uU(0),2&a&&t.hij(" ",o.value||0," ")}let b=(()=>{class a{constructor(e){this.examSesService=e}ngOnInit(){this.sessions$=this.examSesService.getAll()}dateTime(e){return"2020-01-01 "+e}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(l))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-exam-sessions"]],decls:11,vars:6,consts:[["title","Theory Examination Sessions"],["rowHeight","auto",1,"material",3,"rows","headerHeight","columnMode","footerHeight"],["name","Name"],["name","Start Time"],["ngx-datatable-cell-template",""],["name","Capacity"]],template:function(e,m){1&e&&(t._UZ(0,"header-card",0),t._UZ(1,"exam-session-form"),t.TgZ(2,"mat-card"),t.TgZ(3,"mat-card-content"),t.TgZ(4,"ngx-datatable",1),t.ALo(5,"async"),t._UZ(6,"ngx-datatable-column",2),t.TgZ(7,"ngx-datatable-column",3),t.YNc(8,C,2,4,"ng-template",4),t.qZA(),t.TgZ(9,"ngx-datatable-column",5),t.YNc(10,F,1,1,"ng-template",4),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("rows",t.lcZ(5,4,m.sessions$))("headerHeight",40)("columnMode","force")("footerHeight",40))},directives:[S.I,U,r.a8,r.dn,u.nE,u.UC,u.vq],pipes:[i.Ov,i.uU],styles:[""]}),a})();var N=n(3503);let I=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({providers:[l],imports:[[i.ez,v.Bz.forChild([{path:"",component:b}]),N.m]]}),a})()}}]);